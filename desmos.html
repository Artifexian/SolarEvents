<html>
<head><title>[The WorldSmith] Daylight Hours & Solar Events</title></head>
<body>
  <script src="https://www.desmos.com/api/v1.6/calculator.js?apiKey=e4084bb3868e4828b8efb17f7c8dfc38"></script>
  <div id="calculator" style="width: 95vw; height: 95vh;"></div>
  <script>
    var elt = document.getElementById('calculator');
    var calculator = Desmos.GraphingCalculator(elt);
    fetch('desmos.json')
      .then(response => response.json())
      .then(state => {
        calculator.setState(state);
        updateFromUrl();
      });
    function updateFromUrl() {
      const params = new URLSearchParams(window.location.search);
      for (const [key, value] of params.entries()) {
        calculator.setExpression({ id: key, latex: `${key} = ${value}` });
      }
    }
  </script>
</body>
</html>
